{% extends 'patient/base.html' %}
{% load static %}
{% block title %} :: I-Health:: Hospital Detail {% endblock title %}

{% block custom_css %}
<style>
    a {
        text-decoration: none;
        -webkit-transition: all 0.3s ease-out;
        -moz-transition: all 0.3s ease-out;
        -ms-transition: all 0.3s ease-out;
        -o-transition: all 0.3s ease-out;
        transition: all 0.3s ease-out;
    }

    a:hover {
        -webkit-transition: all 0.3s ease-out;
        -moz-transition: all 0.3s ease-out;
        -ms-transition: all 0.3s ease-out;
        -o-transition: all 0.3s ease-out;
        transition: all 0.3s ease-out;
    }

    .style-4 {
        background: ;
        color: #fff;
        font: 13px Montserrat;
        text-transform: uppercase;
        padding: 11px;
        font-weight: 600;
        max-width: 250px;
        display: block;
        text-align: center;
        margin: 10px auto;
        position: relative;
        -moz-transform: skewX(-6deg);
        -webkit-transform: skewX(-6deg);
        -o-transform: skewX(-6deg);
        -ms-transform: skewX(-6deg);
        transform: skewX(-6deg);
        box-shadow: inset -150px 0 0 0 #6aab9c, inset 200px 0 0 0 #6aab9c;
        /* set the 150 for maximum width division */
        -webkit-transition: box-shadow 0.5s ease-out;
        -moz-transition: box-shadow 0.5s ease-out;
        -ms-transition: box-shadow 0.5s ease-out;
        -o-transition: box-shadow 0.5s ease-out;
        transition: box-shadow 0.5s ease-out;
    }

    .style-4:hover {
        -webkit-transition: box-shadow 0.5s ease-out;
        -moz-transition: box-shadow 0.5s ease-out;
        -ms-transition: box-shadow 0.5s ease-out;
        -o-transition: box-shadow 0.5s ease-out;
        transition: box-shadow 0.5s ease-out;
        box-shadow: inset 200px 0 0 0 #9f4d4e, inset -200px 0 0 0 #9f4d4e;
        /* set the 150 for maximum width division */
        color: #fff;
    }
</style>
{% endblock custom_css %}

{% block content %}
<!-- Body: Body -->
<div class="body d-flex py-3">
    <div class="container-xxl">

        <div class="row g-3">
            <div class="col-xl-4 col-lg-12 col-md-12">
                <div class="card teacher-card  mb-3">
                    <div class="card-body d-flex teacher-fulldeatil">
                        <div class="profile-teacher pe-xl-4 pe-md-2 pe-sm-4 pe-4 text-center w220">
                            <a href="#">
                                <img src="{{hospital.profile_pic}}" alt=""
                                    class="avatar xl rounded-circle img-thumbnail shadow-sm">
                            </a>
                            <div class="about-info d-flex align-items-center mt-3 justify-content-center flex-column">
                                <span class="text-muted small">Doctor ID : {{hospital.id}}</span>
                            </div>
                        </div>
                        <div class="teacher-info border-start ps-xl-4 ps-md-4 ps-sm-4 ps-4 w-100">
                            <h6 class="mb-0 mt-2  fw-bold d-block fs-6">{{hospital.hopital_name}}</h6>
                            <span class="py-1 fw-bold small-11 mb-0 mt-1 text-muted">Heart Surgeon,London,
                                England</span>
                            <p class="mt-2">{{hospital.about}}</p>
                            {% comment %} <div class="row g-2 pt-2">                                
                                <div class="col-xl-3">
                                    <div class="d-flex align-items-center">
                                        <i class="icofont-birthday-cake"></i>
                                        <span class="ms-2">{{hospitalcontact.establishment_year}}</span>
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="d-flex align-items-center">
                                        <i class="icofont-address-book"></i>
                                        <span
                                            class="ms-2">{{hospitalcontact.address1}}{{hospitalcontact.address2}}{{hospitalcontact.city}}{{hospitalcontact.pin_code}}{{hospitalcontact.state}}{{hospitalcontact.country}}</span>
                                    </div>
                                </div>
                                
                            </div> {% endcomment %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-8 col-lg-12 col-md-12">
                <div class="card teacher-card  mb-3">
                    <div class="card-body d-flex teacher-fulldeatil">
                        <div class="profile-teacher pe-xl-4 pe-md-2 pe-sm-4 pe-4 text-center w220">
                            <a href="#">
                                <img src="{{hospitalstaffdoctor.doctor.profile_pic}}" alt=""
                                    class="avatar xl rounded-circle img-thumbnail shadow-sm">
                            </a>
                            <div class="about-info d-flex align-items-center mt-3 justify-content-center flex-column">
                                <span class="text-muted small">Doctor ID : {{hospitalstaffdoctor.ssn_id}}</span>
                            </div>
                        </div>
                        <div class="teacher-info border-start ps-xl-4 ps-md-4 ps-sm-4 ps-4 w-100">
                            <h6 class="mb-0 mt-2  fw-bold d-block fs-6">{{hospitalstaffdoctor.doctor.name_title}} {{hospitalstaffdoctor.doctor.fisrt_name}} {{hospitalstaffdoctor.doctor.last_name}}</h6>
                            <span class="py-1 fw-bold small-11 mb-0 mt-1 text-muted">{{hospitalstaffdoctor.ssn_id}}</span>
                            <p class="mt-2">{{hospital.specialist}}</p>
                            <p class="mt-2">{{hospital.gender}}</p>
                            <div class="row g-2 pt-2">                                
                                <div class="col-xl-3">
                                    <div class="d-flex align-items-center">
                                        <i class="icofont-birthday-cake"></i>
                                        <span class="ms-2">{{hospitalcontact.establishment_year}}</span>
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="d-flex align-items-center">
                                        <i class="icofont-address-book"></i>
                                        <span
                                            class="ms-2">{{hospitalcontact.address1}}{{hospitalcontact.address2}}{{hospitalcontact.city}}{{hospitalcontact.pin_code}}{{hospitalcontact.state}}{{hospitalcontact.country}}</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xl-4 posts">
                                    {% if hospitalstaffdoctor.is_virtual_available %}
                                    <a type="button" class="btn btn-primary style-4"
                                        href="{% url 'list_of_virtual_doctor' %}">Online</a>
                                    {% endif %}
                                    </div>
                                    <div class="col-xl-4 posts">
                                     {% if hospitalstaffdoctor.home_charges > 0 %}
                                    <a type="button" class="btn btn-primary style-4" href="{% url 'home_visit_doctor' %}" >Home Visit</a>
                                        {% endif %}
                                    </div>
                                    
                                    <div class="col-xl-4  posts">
                                   
                                    <a type="button" class="btn btn-primary style-4" data-bs-toggle="modal"
                                        data-bs-target="#book-an-appointment">For OPD</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- Row End -->
       
        <div class="row g-3 row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-4 row-cols-xl-4 row-cols-xxl-4 row-deck py-1 pb-4">
               <div class="col-xl-12">                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h6> Doctor OPD Timing</h6>
                        </div>
                        <div class="card-body">
                            <table class="table  align-middle mb-0" id="myProjectTable" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>Shift</th>
                                        <th>Time</th>
                                        <th>Monday</th>
                                        <th>Tuesday</th>
                                        <th>Wednessday</th>
                                        <th>Thursday</th>
                                        <th>Friday</th>
                                        <th>Saturday</th>
                                        <th>Sunday</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for hospitalstaffdoctorschedule in hospitalstaffdoctorschedual %}
                                    {% if hospitalstaffdoctorschedule.work == "OPD" %}
                                    <tr>
                                        <th>{{hospitalstaffdoctorschedule.shift}}</th>
                                        <th>{{hospitalstaffdoctorschedule.start_time|time:'h:i'}} to
                                            {{hospitalstaffdoctorschedule.end_time|time:'h:i'}}</th></a>
                                        <td>{% if hospitalstaffdoctorschedule.monday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.tuesday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.wednesday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.thursday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.friday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.saturday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.sunday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                    </tr>
                                    {% endif %}
                                    {% endfor %}
                                </tbody>
                            </table>

                        </div>
                    </div>
                </div>
                
                 
                
        </div>
        <div class="row g-3 row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-4 row-cols-xl-4 row-cols-xxl-4 row-deck py-1 pb-4">
            <div class="col-xl-8">                    
                <div class="card mb-3">
                    <div class="card-header">
                        <h6> Available OPD Timing</h6>
                    </div>
                    <div class="card-body">
                        <table class="table  align-middle mb-0" id="myProjectTable" style="width:100%">
                            <thead>
                                <tr>
                                    <th>Shift</th>
                                    <th>Time</th>
                                    <th>Monday</th>
                                    <th>Tuesday</th>
                                    <th>Wednessday</th>
                                    <th>Thursday</th>
                                    <th>Friday</th>
                                    <th>Saturday</th>
                                    <th>Sunday</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for hospitalstaffdoctorschedule in hospitalstaffdoctorschedual %}
                                {% if hospitalstaffdoctorschedule.work == "OPD" %}
                                <tr>
                                    <th>{{hospitalstaffdoctorschedule.shift}}</th>
                                    <th>{{hospitalstaffdoctorschedule.start_time|time:'h:i'}} to
                                        {{hospitalstaffdoctorschedule.end_time|time:'h:i'}}</th></a>
                                    <td>{% if hospitalstaffdoctorschedule.monday == "YES" %}<a
                                            data-bs-toggle="modal"
                                            data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                    </td>
                                    <td>{% if hospitalstaffdoctorschedule.tuesday == "YES" %}<a
                                            data-bs-toggle="modal"
                                            data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                    </td>
                                    <td>{% if hospitalstaffdoctorschedule.wednesday == "YES" %}<a
                                            data-bs-toggle="modal"
                                            data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                    </td>
                                    <td>{% if hospitalstaffdoctorschedule.thursday == "YES" %}<a
                                            data-bs-toggle="modal"
                                            data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                    </td>
                                    <td>{% if hospitalstaffdoctorschedule.friday == "YES" %}<a
                                            data-bs-toggle="modal"
                                            data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                    </td>
                                    <td>{% if hospitalstaffdoctorschedule.saturday == "YES" %}<a
                                            data-bs-toggle="modal"
                                            data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                    </td>
                                    <td>{% if hospitalstaffdoctorschedule.sunday == "YES" %}<a
                                            data-bs-toggle="modal"
                                            data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                    </td>
                                </tr>
                                {% endif %}
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="card mb-3">
            <div class="card-header py-3  bg-transparent border-bottom-0">
                <h6 class="mb-0 fw-bold ">Datatable</h6> 
            </div>
            <div class="card-body">
                <table id="patient-table" class="table table-hover align-middle mb-0" style="width: 100%;">
                    <thead>
                        <tr>
                            <th>Shift</th>
                            <th>Time</th>
                            <th>Monday</th>
                            <th>Tuesday</th>
                            <th>Wednessday</th>
                            <th>Thursday</th>
                            <th>Friday</th>
                            <th>Saturday</th>
                            <th>Sunday</th>
                        </tr>
                    </thead>
                    <tbody>
                         {% for hospitalstaffdoctorschedule in hospitalstaffdoctorschedual %}
                                    {% if hospitalstaffdoctorschedule.work == "OPD" %}
                                    <tr>
                                        <th>{{hospitalstaffdoctorschedule.shift}}</th>
                                        <th>{{hospitalstaffdoctorschedule.start_time|time:'h:i'}} to
                                            {{hospitalstaffdoctorschedule.end_time|time:'h:i'}}</th></a>
                                        <td>{% if hospitalstaffdoctorschedule.monday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.tuesday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.wednesday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.thursday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.friday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.saturday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                        <td>{% if hospitalstaffdoctorschedule.sunday == "YES" %}<a
                                                data-bs-toggle="modal"
                                                data-bs-target="#depupdate{{hospitalstaffdoctorschedule.id}}">{{hospitalstaffdoctorschedule.work}}</a>{% endif %}
                                        </td>
                                    </tr>
                                    {% endif %}
                                    {% endfor %}
                        {% comment %} <tr>
                            <td>PT-0011</td>
                            <td><img src="assets/images/xs/avatar1.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Brian</span></td>
                            <td>35</td>
                            <td>123 6th St. Melbourne, FL 32904</td>
                            <td>May 13, 2021</td>
                            <td>May 22, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"> <span class="sr-only">100% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-success">Discharge</span></td>
                        </tr>
                        <tr>
                            <td>PT-0045</td>
                            <td><img src="assets/images/xs/avatar2.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Julia</span></td>
                            <td>42</td>
                            <td>4 Shirley Ave. West Chicago, IL 60185</td>
                            <td>May 17, 2021</td>
                            <td>May 16, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"> <span class="sr-only">100% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-success">Discharge</span></td>
                        </tr>
                        <tr>
                            <td>PT-0030</td>
                            <td><img src="assets/images/xs/avatar4.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Sonia</span></td>
                            <td>25</td>
                            <td>123 6th St. Melbourne, FL 32904</td>
                            <td>May 13, 2021</td>
                            <td>May 23, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-info" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100" style="width: 15%;"> <span class="sr-only">15% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-info">Admit</span></td>
                        </tr>
                        <tr>
                            <td>PT-0078</td>
                            <td><img src="assets/images/xs/avatar5.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Adam H</span></td>
                            <td>18</td>
                            <td>4 Shirley Ave. West Chicago, IL 60185</td>
                            <td>May 18, 2021</td>
                            <td>May 18, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 85%;"> <span class="sr-only">85% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-info">Admit</span></td>
                        </tr>
                        <tr>
                            <td>PT-0098</td>
                            <td><img src="assets/images/xs/avatar9.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Alexander</span></td>
                            <td>38</td>
                            <td>123 6th St. Melbourne, FL 32904</td>
                            <td>May 13, 2021</td>
                            <td>May 22, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"> <span class="sr-only">100% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-success">Discharge</span></td>
                        </tr>
                        <tr>
                            <td>PT-0999</td>
                            <td><img src="assets/images/xs/avatar11.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Gabrielle</span></td>
                            <td>65</td>
                            <td>4 Shirley Ave. West Chicago, IL 60185</td>
                            <td>May 17, 2021</td>
                            <td>May 16, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"> <span class="sr-only">100% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-success">Discharge</span></td>
                        </tr>
                        <tr>
                            <td>PT-0101</td>
                            <td><img src="assets/images/xs/avatar12.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Grace</span></td>
                            <td>40</td>
                            <td>4 Shirley Ave. West Chicago, IL 60185</td>
                            <td>May 17, 2021</td>
                            <td>May 16, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"> <span class="sr-only">100% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-success">Discharge</span></td>
                        </tr>
                        <tr>
                            <td>PT-1001</td>
                            <td><img src="assets/images/xs/avatar8.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Ryan </span></td>
                            <td>34</td>
                            <td>70 Bowman St. South Windsor, CT 06074</td>
                            <td>May 13, 2021</td>
                            <td>May 16, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%;"> <span class="sr-only">40% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-info">Admit</span></td>
                        </tr>
                        <tr>
                            <td>PT-1101</td>
                            <td><img src="assets/images/xs/avatar7.jpg" class="avatar sm rounded-circle me-2" alt="profile-image"><span>Christian</span></td>
                            <td>21</td>
                            <td>123 6th St. Melbourne, FL 32904</td>
                            <td>May 13, 2021</td>
                            <td>May 22, 2021</td>
                            <td>
                                <div class="progress" style="height: 3px;">
                                    <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"> <span class="sr-only">100% Complete</span> </div>
                                </div>
                            </td>
                            <td><span class="badge bg-success">Discharge</span></td>
                        </tr> {% endcomment %}
                    </tbody>
                </table>
            </div>
        </div>
                        
    </div>
</div>

{% endblock content %}


{% block modal_fade %}
<!--View Schedule for doctor-->
<!--Start Schedule-->
<!-- Modal XL -->

<!--End Schedule-->
    <div class="modal fade" id="book-an-appointment" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
        style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content modal-radius modal-shadow">

                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLiveLabel"> OPD Appointment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="card mb-3">
                       
                        <div class="card-body">
                            <div class="wrapper">
                                <div id="calendar">
                                    <div class="monthChange"></div>
                                    <div class='timepicker'>
                                        <div class="owl">
                                            <div>08:00</div>
                                            <div>09:00</div>
                                            <div>10:00</div>
                                            <div>11:00</div>
                                            <div>12:00</div>
                                            <div>13:00</div>
                                            <div>14:00</div>
                                            <div>15:00</div>
                                            <div>16:00</div>
                                            <div>17:00</div>
                                            <div>18:00</div>
                                            <div>19:00</div>
                                            <div>20:00</div>
                                            <div>21:00</div>
                                            <div>22:00</div>
                                            <div>23:00</div>
                                            <div>24:00</div>
                                            <div>01:00</div>
                                            <div>02:00</div>
                                            <div>03:00</div>
                                            <div>04:00</div>
                                            <div>05:00</div>                                       
                                            <div>06:00</div>
                                            <div>07:00</div>
                                            
                                        </div>
                                        <div class="fade-l"></div>
                                        <div class="fade-r"></div>
                                    </div>
                                </div>
                                <div class="inner-wrap">
                                    <h6 id="staticBackdropLiveLabel">OPD TIME: <b> Form {{opdtime.opening_time}} To {{opdtime.close_time}} <b></h6>
                                    <h6 id="staticBackdropLiveLabel1">BREAK TIME: <b> Form {{opdtime.break_start_time}} To {{opdtime.break_end_time}}<b></h6><br>
                                    <div class="col-12">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" onchange="checkedFunc('flexCheckDefault')">
                                            <label class="form-check-label" for="flexCheckDefault">
                                                Is it for some else ? <a data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#DoctorModalLg"><span class="badge bg-primary"> Add New.</span></a>
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="someone" disabled ="disabled">
                                            {% for someone in someones %}
                                            <option value="{{someone.id}}" selected>{{someone}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="serviceid">
                                            {% for service in hospitalservice %}
                                            {% if service.service_name == "OPD" or service.service_name == "Emergency" %}
                                            <option value="{{service.id}}" selected>{{service.service_name}} -> Rs  {{service.service_charge}}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div> 
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="hdocid">                                           
                                            <option value="{{hospitalstaffdoctor.id}}" selected>{{hospitalstaffdoctor.doctor.name_title}} {{hospitalstaffdoctor.doctor.fisrt_name}} {{hospitalstaffdoctor.doctor.last_name}}</option>                                                
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <button type="button"  data-bs-dismiss="modal" aria-label="Close" class="btn btn-primary disabled request" id="sbt_button" > Request appointment
                                            <span name = "schdate">On</span>
                                            <span class="day fw-bold text-dark"  id="schdate"></span>
                                            <span  name = "schtime">At</span>
                                            <span class="time fw-bold text-dark" id="schtime"></span>
                                            <i class="icofont-dotted-right fs-3" ></i>
                                        </button>
                                    </div>                                   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


<!--Book an  appointment.Modal-->

<!--For on-line OPD-->
     <div class="modal fade" id="onlineopd" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
        style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content modal-radius modal-shadow">

                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLiveLabel">Online OPD Appointment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="card mb-3">
                       
                        <div class="card-body">
                            <div class="wrapper">
                                <div id="calendar">
                                    <div class="monthChange"></div>
                                    <div class='timepicker'>
                                        <div class="owl">
                                            <div>08:00</div>
                                            <div>09:00</div>
                                            <div>10:00</div>
                                            <div>11:00</div>
                                            <div>12:00</div>
                                            <div>13:00</div>
                                            <div>14:00</div>
                                            <div>15:00</div>
                                            <div>16:00</div>
                                            <div>17:00</div>
                                            <div>18:00</div>
                                            <div>19:00</div>
                                            <div>20:00</div>
                                            <div>21:00</div>
                                            <div>22:00</div>
                                            <div>23:00</div>
                                            <div>24:00</div>
                                            <div>01:00</div>
                                            <div>02:00</div>
                                            <div>03:00</div>
                                            <div>04:00</div>
                                            <div>05:00</div>                                       
                                            <div>06:00</div>
                                            <div>07:00</div>
                                            
                                        </div>
                                        <div class="fade-l"></div>
                                        <div class="fade-r"></div>
                                    </div>
                                </div>
                                <div class="inner-wrap">
                                    <h6 id="staticBackdropLiveLabel">OPD TIME: <b> Form {{opdtime.opening_time}} To {{opdtime.close_time}} <b></h6>
                                    <h6 id="staticBackdropLiveLabel1">BREAK TIME: <b> Form {{opdtime.break_start_time}} To {{opdtime.break_end_time}}<b></h6><br>
                                    <div class="col-12">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" onchange="checkedFunc('flexCheckDefault')">
                                            <label class="form-check-label" for="flexCheckDefault">
                                                Is it for some else ? <a href="#" title="Terms and Conditions"> Add New.</a>
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="someone" disabled ="disabled">
                                            {% for someone in someones %}
                                            <option value="{{someone.id}}" selected>{{someone}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="serviceid">
                                            {% for service in hospitalservice %}
                                            {% if service.service_name == "OPD" or service.service_name == "Emergency" %}
                                            <option value="{{service.id}}" selected>{{service.service_name}} -> Rs  {{service.service_charge}}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="hdocid">                                           
                                            <option value="{{hospitalstaffdoctor.id}}" selected>{{hospitalstaffdoctor.doctor.name_title}} {{hospitalstaffdoctor.doctor.fisrt_name}} {{hospitalstaffdoctor.doctor.last_name}}</option>                                                
                                        </select>
                                    </div>
                                    <div>
                                        <button type="button"  data-bs-dismiss="modal" aria-label="Close" class="btn btn-primary disabled request" id="sbt_button" > Request appointment
                                            <span name = "schdate">On</span>
                                            <span class="day fw-bold text-dark"  id="schdate"></span>
                                            <span  name = "schtime">At</span>
                                            <span class="time fw-bold text-dark" id="schtime"></span>
                                            <i class="icofont-dotted-right fs-3" ></i>
                                        </button>
                                    </div>                                   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--end On-line OPD-->

<!--For Homvisit OPD-->
     <div class="modal fade" id="home-visit" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
        style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content modal-radius modal-shadow">

                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLiveLabel">Home vist Appointment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="card mb-3">
                       
                        <div class="card-body">
                            <div class="wrapper">
                                <div id="calendar">
                                    <div class="monthChange"></div>
                                    <div class='timepicker'>
                                        <div class="owl">
                                            <div>08:00</div>
                                            <div>09:00</div>
                                            <div>10:00</div>
                                            <div>11:00</div>
                                            <div>12:00</div>
                                            <div>13:00</div>
                                            <div>14:00</div>
                                            <div>15:00</div>
                                            <div>16:00</div>
                                            <div>17:00</div>
                                            <div>18:00</div>
                                            <div>19:00</div>
                                            <div>20:00</div>
                                            <div>21:00</div>
                                            <div>22:00</div>
                                            <div>23:00</div>
                                            <div>24:00</div>
                                            <div>01:00</div>
                                            <div>02:00</div>
                                            <div>03:00</div>
                                            <div>04:00</div>
                                            <div>05:00</div>                                       
                                            <div>06:00</div>
                                            <div>07:00</div>
                                            
                                        </div>
                                        <div class="fade-l"></div>
                                        <div class="fade-r"></div>
                                    </div>
                                </div>
                                <div class="inner-wrap">
                                    <h6 id="staticBackdropLiveLabel">OPD TIME: <b> Form {{opdtime.opening_time}} To {{opdtime.close_time}} <b></h6>
                                    <h6 id="staticBackdropLiveLabel1">BREAK TIME: <b> Form {{opdtime.break_start_time}} To {{opdtime.break_end_time}}<b></h6><br>
                                    <div class="col-12">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" onchange="checkedFunc('flexCheckDefault')">
                                            <label class="form-check-label" for="flexCheckDefault">
                                                Is it for some else ? <a href="#" title="Terms and Conditions"> Add New.</a>
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="someone" disabled ="disabled">
                                            {% for someone in someones %}
                                            <option value="{{someone.id}}" selected>{{someone}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="serviceid">
                                            {% for service in hospitalservice %}
                                            {% if service.service_name == "OPD" or service.service_name == "Emergency" %}
                                            <option value="{{service.id}}" selected>{{service.service_name}} -> Rs  {{service.service_charge}}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div>
                                        <select class="form-select mb-3" aria-label="Default select example" id ="hdocid">                                           
                                            <option value="{{hospitalstaffdoctor.id}}" selected>{{hospitalstaffdoctor.doctor.name_title}} {{hospitalstaffdoctor.doctor.fisrt_name}} {{hospitalstaffdoctor.doctor.last_name}}</option>                                                
                                        </select>
                                    </div>
                                    <div>
                                        <button type="button"  data-bs-dismiss="modal" aria-label="Close" class="btn btn-primary disabled request" id="sbt_button" > Request appointment
                                            <span name = "schdate">On</span>
                                            <span class="day fw-bold text-dark"  id="schdate"></span>
                                            <span  name = "schtime">At</span>
                                            <span class="time fw-bold text-dark" id="schtime"></span>
                                            <i class="icofont-dotted-right fs-3" ></i>
                                        </button>
                                    </div>                                   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--End Homvisit OPD-->

<!--Start Add Someone as patient-->
    <div class="modal fade" id="DoctorModalLg" tabindex="-1" aria-labelledby="DoctorModalLgLabel" aria-hidden="true"
        style="display: none;">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title h4" id="DoctorModalLgLabel">Add Patient Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-3">
                        <div class="col-sm-12">
                            <div class="card mb-3">
                                <div class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0">
                                    <h6 class="mb-0 fw-bold ">Patients Basic Inforamtion</h6>
                                </div>
                                <div class="card-body">
                                    <form  method="post" id="hpatientadd" enctype="multipart/form-data" action="{% url 'add_someone_as_patient' %}">
                                        {% csrf_token %}
                                        <div class="row g-3 align-items-center">
                                            <div class="col-md-2">
                                                <label class="form-label">Title *</label>
                                                <select class="form-select" aria-label="Default select example"
                                                    name="name_title">
                                                    <option {% if request.user.name_title == "Mr." %}selected{% endif %}
                                                        value="Mr."> Mr.</option>
                                                    <option {% if request.user.name_title == "Mrs." %}selected{% endif %}
                                                        value="Mrs."> Mrs.</option>
                                                    <option {% if request.user.name_title == "Miss" %}selected{% endif %}
                                                        value="Miss"> Miss</option>
                                                    <option {% if request.user.name_title == "Ms." %}selected{% endif %}
                                                        value="Ms."> Ms.</option>
                                                    <option {% if request.user.name_title == "Dr." %}selected{% endif %}
                                                        value="Dr."> Dr.</option>
                                                </select>
                                            </div>
                                            <div class="col-md-5">
                                                <label for="firstname" class="form-label">First Name *</label>
                                                <input type="text" class="form-control" id="firstname" name="fisrt_name">
                                                <input type="hidden" class="form-control" id="action" name="action" value="add">
                                                <input type="hidden" class="form-control" id="id" name="id" value="{{hospital.id}}">
                                                <input type="hidden" class="form-control" id="did" name="did" value="{{hospitalstaffdoctor.id}}">
                                            </div>
                                            <div class="col-md-5">
                                                <label for="lastname" class="form-label">Last Name *</label>
                                                <input type="text" class="form-control" id="lastname" name="last_name">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="address" class="form-label">Address </label>
                                                <input type="text" class="form-control" id="address" name="address">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="zip_Code" class="form-label">zip_Code </label>
                                                <input type="text" class="form-control" id="zip_Code" name="zip_Code">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="city" class="form-label">City </label>
                                                <input type="text" class="form-control" id="city" name="city">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="age" class="form-label">Age *</label>
                                                <input type="text" class="form-control" id="dob" name="age">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="phonenumber" class="form-label">Phone Number *</label>
                                                <input type="text" class="form-control" id="phone" name="phone">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="emailaddress" class="form-label">Email Address</label>
                                                <input type="email" class="form-control" id="emailaddress" name="email">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="formFileMultiple" class="form-label">ID Proof Upload </label>
                                                <input class="form-control" type="file" id="formFileMultiple"
                                                    name="ID_proof">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Gender *</label>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="gender"
                                                                id="gender" value="Male" checked>
                                                            <label class="form-check-label" for="exampleRadios11">
                                                                Male
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="gender"
                                                                id="gender" value="Female"> <label class="form-check-label"
                                                                for="exampleRadios22">
                                                            Female
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                             <div class="col-md-6">
                                                <label  class="form-label">Blood Group *</label>
                                                <select class="form-select" aria-label="Default select example" name="bloodgroup" required>
                                                    <option selected disabled>Blood Group</option>
                                                    <option {% if patient.bloodgroup == "A+" %}selected{% endif %} value="A+">A+</option>
                                                    <option {% if patient.bloodgroup == "A-" %}selected{% endif %} value="A-">A-</option>
                                                    <option {% if patient.bloodgroup == "B+" %}selected{% endif %} value="B+">B+</option>
                                                    <option {% if patient.bloodgroup == "B-" %}selected{% endif %} value="B-">B-</option>
                                                    <option {% if patient.bloodgroup == "AB-" %}selected{% endif %} value="AB-">AB-</option>
                                                    <option {% if patient.bloodgroup == "AB+" %}selected{% endif %} value="AB+">AB+</option>
                                                    <option {% if patient.bloodgroup == "O-" %}selected{% endif %} value="O-">O-</option>
                                                    <option {% if patient.bloodgroup == "O+" %}selected{% endif %} value="O+">O+</option>
                                                    
                                                </select>
                                            </div> 
                                            <div class="col-md-6">
                                                <label for="addnote" class="form-label">Add Note</label>
                                                <textarea class="form-control" id="addnote" name="add_notes"
                                                    rows="3"></textarea>
                                            </div>
                                        </div>

                                        <button type="submit" class="btn btn-primary mt-4 submit_btn">Submit</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--End Add Someone as patient-->
{% endblock modal_fade %}

{% block custom_js %}

<script src="{% static '/radmin/js/moment.min.js'%}"></script>
<script>
 $(document).on("click", "#sbt_button", function (e){
        e.preventDefault();
        var scdat = document.getElementById('schdate').innerHTML
        var schtime = document.getElementById('schtime').innerHTML
        var starttime = moment("{{opdtime.opening_time}}", ["h:mm A"]).format("HH:mm");
        var closettime = moment("{{opdtime.close_time}}", ["h:mm A"]).format("HH:mm");
        console.log(parseInt(schtime))
        console.log(parseInt(closettime))
        console.log(parseInt(starttime))
        if (schtime < starttime || schtime > closettime){
                alert("Please select within OPD time");
                window.location.reload();
            }
        var startbreaktime = moment("{{opdtime.break_start_time}}", ["h:mm A"]).format("HH:mm");
        var closebreakttime = moment("{{opdtime.break_end_time}}", ["h:mm A"]).format("HH:mm");
        if(schtime > startbreaktime && schtime < closebreakttime){
                alert("you have selected Break time kinldy choose working time")
                window.location.reload();
        }
        someone = $('#someone').val(),
        $.ajax({
            type: 'POST',
            url: "{% url 'bookanappointment' %}",
            data: {
                'doctorid':$('#hdocid').val(),
                'serviceid':$('#serviceid').val(),
                'someone':$('#someone').val(),
                'time':schtime,
                'date':scdat,
                'csrfmiddlewaretoken': "{{csrf_token}}",
                'action': 'Hospital'
            },
            success: function (id) {
                console.log(id)
                alert("OTP have been sent successfully to your phone ");
                window.location.replace("{% url 'checkout' %}");
            },
            error: function (xhr, errmsg, err) {
                alert(errmsg);
            }
        });
    })
        
    function convertDate(inputFormat) {
    function pad(s) { return (s < 10) ? '0' + s : s; }
    var d = new Date(inputFormat)
    return [pad(d.getDate()), pad(d.getMonth()+1), d.getFullYear()].join('/')
    }
</script>

<script>
    function checkedFunc(element1Id) {
    
        var myLayer = document.getElementById('someone');
        var element1 = document.getElementById(element1Id);
    if (element1.checked == true) {
            myLayer.class = "submit";
            myLayer.removeAttribute("disabled");
    } else {
            myLayer.class = "button:disabled";
            myLayer.setAttribute("disabled","disabled");
    };
    }

</script>

<script>
 $(".submit_btn").click(function(){
        var form=new FormData($("#hpatientadd"));
       // form.append("long_desc",tinyMCE.activeEditor.getContent());
        console.log("hello")
        e.preventDefault();
        $.ajax({
            type: 'POST',
            url: "{% url 'add_someone_as_patient' %}",
            data:form,
            success: function (json) {
                console.log(json)
            },
            error: function (xhr, errmsg, err) {

            }
        });
        //Ajax code

        
       // setTimeout(location.reload.bind(location), 2000);

        //update staff from edit page fade
       

    })
</script>

{% endblock custom_js %}